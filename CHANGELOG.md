# Журнал изменений

## Неопубликованные изменения (не вошедшие в релиз)

## 1.8.1

Исправлены ошибки:

- добавлено место составление документа на титульный лист
  (см. ГОСТ Р 7.0.97-2016, Приложение А)
  [#69](https://github.com/test-st-petersburg/DocTemplates/issues/69)

## 1.8.0

Новые возможности:

- добавлен гриф утверждения в шаблон Внутренних документов
  [#46](https://github.com/test-st-petersburg/DocTemplates/issues/46)

Прочие изменения:

- стили Внутреннего документа унифицированы со стилями Документа СМК

## 1.7.0

Новые возможности:

- добавлен шаблон Документ системы менеджмента
  (основа для Положений о подразделениях, Должностных инструкций,
  Стандартов организации, Инструкций).
  В настоящее время обеспечена подготовка только Положений о подразделениях
  [#46](https://github.com/test-st-petersburg/DocTemplates/issues/46)

## 1.6.17

Исправлены ошибки:

- ошибка при обновлении стилей из шаблона (Записка)
  [#52](https://github.com/test-st-petersburg/DocTemplates/issues/52)

Прочие изменения:

- все поля обновляются перед сохранением и печатью
  (Записка, Внутренний документ, Письмо)
  [#52](https://github.com/test-st-petersburg/DocTemplates/issues/52)

## 1.6.16

Исправлены ошибки:

- некорректно определяются файлы, подлежащие сборке и разборке
  [#61](https://github.com/test-st-petersburg/DocTemplates/issues/61)

## 1.6.15

Исправлены ошибки:

- некорректно определяются файлы, подлежащие сборке и разборке
  [#61](https://github.com/test-st-petersburg/DocTemplates/issues/61)

## 1.6.14

Исправлены ошибки:

- сведения о подписанте сбрасываются в "0" во Внутренних документах

## 1.6.13

Исправлены ошибки:

- не обновляется приветствие в Письмах
  [#59](https://github.com/test-st-petersburg/DocTemplates/issues/59)

## 1.6.12

Исправлены ошибки:

- ошибка при обновлении стилей из шаблона Внутреннего документа
  [#52](https://github.com/test-st-petersburg/DocTemplates/issues/52)

## 1.6.11

Исправлены ошибки:

- поле Получатель в письме не укладывается в поля бланка
  [#55](https://github.com/test-st-petersburg/DocTemplates/issues/55)
- поле Исполнитель в письме не укладывается в поля бланка

## 1.6.10

Исправлены ошибки:

- переносы не должны допускаться в поле Получатель в Письмах
  [#54](https://github.com/test-st-petersburg/DocTemplates/issues/54)

## 1.6.9

Исправлены ошибки:

- исправлено описание `@menu:style` в menubar.dtd
  [#42](https://github.com/test-st-petersburg/DocTemplates/issues/42)

Прочие изменения:

- опционально восстанавливаем DTD в XML файлах документов
  [#42](https://github.com/test-st-petersburg/DocTemplates/issues/42)

## 1.6.8

Прочие изменения:

- при сборке документа обновляется количество циклов редактирования
  (`meta:editing-cycles`), [#47](https://github.com/test-st-petersburg/DocTemplates/issues/47)

## 1.6.7

Прочие изменения:

- при сборке документа устанавливается дата и время в метаданных
  (`dc:date`), [#47](https://github.com/test-st-petersburg/DocTemplates/issues/47)

## 1.6.6

Исправлены ошибки:

- восстановлено обновление стилей из шаблона документа при открытии документа
  (выдаётся запрос на обновление в случае изменения шаблона с последнего
  сохранения документа, #44)

## 1.6.5

Исправлены ошибки:

- дата регистрации с/з в Центр не помещалась при печати на листе (#40)

## 1.6.4

Исправлены ошибки:

- обработка DTD в XML файлах документов

## 1.6.3

Исправлены ошибки:

- при открытии Внутреннего документа выполняем обновление полей (ради подписи)

## 1.6.2

Исправлены ошибки:

- исправлен иерархический список в Записке
- исправлен иерархический список в Письме

## 1.6.1

Исправлены ошибки:

- убраны лишние переменные в шаблоне Внутренних документов

## 1.6.0

Новые возможности:

- добавлен шаблон Внутренний документ

## 1.5.6

Исправлены ошибки:

- изменено расстояние между символами в наименовании организации в шапке Записки
  в соответствии с СТО

## 1.5.5

Исправлены ошибки:

- в сведениях об исполнителе в Письме должны быть пробелы после знаков препинания

## 1.5.4

Исправлены ошибки:

- при заполнении с/з в Центр регистрационные данные в шапке не должны отображаться
- при заполнении с/з в Центр регистрационные данные должны отображаться в подвале
- аналогичные изменения обработки условий в Письма

## 1.5.1

Прочие изменения:

- дополнено описание шаблона Записки

## 1.5.0

Новые возможности:

- добавлен шаблон Записка

Прочие изменения:

- оформление бланка внутренних записок (служебных, докладных, объяснительных).
  Шаблон Записки переделан на базе шаблона Письма
- унифицирован перечень переменных документа по аналогии с шаблоном Письма
- добавлено описание шаблона Записки
- изменены инструменты для обработки XML:
  - все файлы одного документа обрабатываются одной XSLT трансформацией
  - XSLT трансформации разделены на модули (packages)

## 1.4.3

Прочие изменения:

- добавлен вывод подробных ошибок компиляции XSLT
- настроен problem matcher в VSCode для фиксации ошибок компиляции XSLT

## 1.4.2

Прочие изменения:

- дополнено описание шаблона Письмо описанием механизма печати на бланках

## 1.4.1

Прочие изменения:

- несущественные правки readme.md

## 1.4.0

Новые возможности:

- добавлена генерация документации на ReadTheDocs

Прочие изменения:

- переоформлены поля в шаблоне Письмо с помощью подстрочника

## 1.3.0

Новые возможности:

- добавлена иерархия шаблонов
- добавлен шаблон Справки (на бланке)
- для условного отображения вида документа в шапке при обновлении
  стилей из шаблона подключены макрокоманды, выполняемые при открытии и
  создании документа

Прочие изменения:

- для задач VSCode использован Invoke-Build
- переименованы стили (убрано наименование документа, утвердившего формы бланков)

## 1.2.0

Исправлены ошибки:

- оформление бланка Письма полностью перенесено в колонтитулы,
  что позволяет при обновлении стилей полностью обновлять оформление бланка
- устранена потеря данных в шапке и подвале бланка Письма при обновлении
  стилей из шаблона (все переменные перенесены в служебную страницу)

Прочие изменения:

- Шаблон Записка переименован в Письмо

## 1.1.0

Исправлены ошибки:

- внедрены шрифты в шаблоны документов
- реализована проверка DTD в XML

## 1.0.0

Новые возможности:

- для работы с XML использован Saxon HE
- форматирование атрибутов
- нормализация пробелов и пустых строк в модулях макросов

## 0.2.0

Новые возможности:

- добавлены инструменты для "чистки" xml
- очищен XML и удалены неиспользуемые стили

## 0.1.0

Новые возможности:

- шаблон стандарта учреждения (СТО).
  Он применим и для документированных процедур системы менеджмента
- шаблона переписки, внутренней и внешней (писем,
  служебных, докладных и объяснительных записок)
